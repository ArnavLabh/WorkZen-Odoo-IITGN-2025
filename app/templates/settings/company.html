{% extends "base.html" %}

{% block title %}Company Settings - WorkZen{% endblock %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-white py-3">
        <h4 class="mb-0">
            <i class="fas fa-cog text-primary"></i> Company Settings
        </h4>
    </div>
    
    <div class="card-body">
        <form method="POST" action="{{ url_for('settings.company_settings') }}">
            <h5 class="mb-4">Company Information</h5>
            
            <div class="form-group">
                <label class="form-label" for="company_name">
                    <i class="fas fa-building"></i> Company Name
                </label>
                <input type="text" 
                       class="form-control" 
                       id="company_name" 
                       name="company_name" 
                       value="{{ company_name }}" 
                       required
                       placeholder="Enter company name">
                <small class="form-text text-muted">
                    This name will be displayed throughout the application and assigned to all employees.
                </small>
            </div>
            
            <hr class="my-4">
            
            <h5 class="mb-3">Attendance Settings</h5>
            
            <div class="form-group">
                <label class="form-label" for="required_working_hours">
                    <i class="fas fa-clock"></i> Required Working Hours Per Day
                </label>
                <input type="number" 
                       class="form-control" 
                       id="required_working_hours" 
                       name="required_working_hours" 
                       value="{{ required_hours }}" 
                       step="0.5" 
                       min="1" 
                       max="24" 
                       required>
                <small class="form-text text-muted">
                    This determines full day attendance. 
                    <br>• 100% of this value = Full Day
                    <br>• 50-75% of this value = Half Day
                    <br>• Less than 50% = Absent
                </small>
            </div>
            
            <div class="alert alert-info mb-4" id="company-settings-info-alert" style="position: relative;">
                <button type="button" onclick="document.getElementById('company-settings-info-alert').style.display='none'" 
                        style="position: absolute; top: 0.75rem; right: 0.75rem; background: none; border: none; font-size: 1.25rem; color: #0c5460; cursor: pointer; opacity: 0.7; padding: 0; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;"
                        title="Dismiss">
                    <i class="fas fa-times"></i>
                </button>
                <h6 class="mb-2" style="padding-right: 2rem;"><i class="fas fa-info-circle me-2"></i>How It Works</h6>
                <p class="mb-2">The system automatically calculates attendance status based on total working hours:</p>
                <ul class="mb-0">
                    <li><strong>Full Day (Present):</strong> ≥75% of required hours (e.g., 6+ hours for 8-hour day)</li>
                    <li><strong>Half Day:</strong> 50-75% of required hours (e.g., 4-6 hours for 8-hour day)</li>
                    <li><strong>Absent:</strong> &lt;50% of required hours (e.g., &lt;4 hours for 8-hour day)</li>
                </ul>
            </div>
            
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Save Settings
            </button>
        </form>
    </div>
</div>
{% endblock %}
